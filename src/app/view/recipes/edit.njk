{% extends "layout.njk" %}

{% block head %}
    <title>Nova receita - FoodFy</title>
{% endblock head %}

{% block menu %}

    <div class="container-black">
        <div class="logotipo">
            <a href="/"><img src="/logo-black.png" alt="FoodFy"></a>
        </div>
        <div class="navigation black">
            <a href="/admin/recipes">Lista</a>
            <a href="/admin/recipes/create">Criar</a>
        </div>
    </div>
{% endblock menu %}

{% block content %}
    <form method="POST" action="/admin/recipes?_method=PUT">
        <input type="hidden" name="id" value="{{recipes.id}}">
        <section class="details">
        
            <h2>Editar a Receita</h3>

            <div class="item">
                <div>Imagem da Receita</div>
                <div><input type="url" name="image" placeholder="http://" value="{{recipes.image}}"></div>
            </div>
            <div class="item">
                <div>Nome da receita</div>
                <div><input type="text" name="title" placeholder="Frango a passarinho" value="{{recipes.title}}"></div>
            </div>
            <div class="item">
                <div>Autor</div>
                <div><input type="text" name="author" placeholder="Antonio Silva" value="{{recipes.author}}"></div>
            </div>
            <div class="item">
                <div>Ingredientes</div>
                <div id="ingredients">
                    <div class="ingredient">
                        {% for ingredient in recipes.ingredients %}
                            <input type="text" name="ingredients[]" placeholder="Ingrediente" value="{{ ingredient }}"/>
                        {% endfor %}
                    </div>
                </div>
                <button type="button" class="add-ingredient">Adicionar novo ingrediente</button>
            </div>
            <div class="item">
                <div>Modo de Preparo</div>
                <div id="preparations">
                    <div class="preparation">
                        {% for preparation in recipes.preparation %}
                            <input type="text" name="preparation[]" placeholder="Adicione o passo" value="{{preparation}}"/>
                        {% endfor %}
                    </div>
                </div>
                <button type="button" class="add-preparation">Adicionar novo passo</button>
            </div>
            <div class="item large">
                <div>Informações adicionais</div>
                <div>
                    <textarea name="information" cols="30" rows="10" value="{{recipes.information}}">{{recipes.information}}</textarea>
                </div>
            </div>
        
            <button class="button" type="submit">Salvar receita</button>
        </section>
    </form>

    <form id="formDelete" action="/admin/recipes?_method=DELETE" method="POST">
        <input type="hidden" name="id" value="{{instructor.id}}">
        <button class="button" type="submit">Deletar</button>
    </form>

{% endblock content %}

{% block footer %}{% endblock footer %}